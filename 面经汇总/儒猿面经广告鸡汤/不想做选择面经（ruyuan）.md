个人情况<br />17毕业，普通二本，16K<br />学习过程<br />学习时间从⼀天⼀个⼩时到三个⼩时慢慢递增，最后维持在三 个⼩时左右<br />2020年11⽉-2021年2⽉是全职学习的时间   （4个月时间）


刚开始可以简单⼀些，根据这些⽬标制定学习计划，⽐如每天学⼀周的课程（包括看视频、整理笔记、融⼊项⽬、记忆）。 

学习方法<br />看视频，整理笔记，思考为什么，和以前学过的知识有无相之处。<br />技术融入项目，定期复习

面试公司<br />美团、滴滴、快⼿、58集团、还有北京的⼀些独⻆兽<br />滴滴收到offer，美团、快⼿挂在 hr ⾯，58因为要⼊职没⾯完，offer⼤部分都是总包42万。

面试内容<br />1、分布式⼩⽂件系统 <br />1.1 为什么要⾃研？ <br />1.2 和hdfs⽐有什么优势？ <br />1.3 在开发的过程中有什么难点？ <br />1.4 BIO、NIO、AIO有什么区别？ <br />1.5 nio reactor模型为什么要设计成三层？ <br />1.6 ⽂件数据怎么保证⾼可⽤的？ <br />71.7 reactor模型⾥Processor线程设置⼏个？为什么？Handler线程设置⼏个？为什么？ <br />1.8 如果⼀个DataNode宕机，怎么处理⽂件？ <br />1.9 NameNode怎么保证⾼可⽤？ <br />1.10 如果NameNode要设计成⾼可⽤，你会怎么设计？ <br />1.11 你觉得这个系统有哪些可以优化的地⽅？ 

2、秒杀系统 <br />2.1 秒杀商品详情⻚如果⽣成失败怎么办？有没有数据预加载的机制？ <br />2.2 怎么防⽌库存超卖的? <br />2.3 redis有没有开启持久化？redis重启有什么问题么？ <br />2.4 nginx限流怎么做的？如果⽤java代码怎么实现？（这个为了问java并发那块的知识） <br />82.5 MQ在抢购链路⾥的作⽤是什么？ <br />2.6 解决消息积压、解决消息重复以及保证消息顺序性的⽅案？ <br />2.7 kafka都做了哪些优化？

3、java基础 <br />3.1 HashMap源码 <br />3.2 HashMap并发情况下会有什么问题？ <br />3.3 ConcurrentHashMap底层原理 <br />3.4 Synchronized和Lock区别 <br />3.5 volatile怎么保证可⻅性、有序性的？ 

4、分布式事务 <br />4.1 分布式事务在项⽬的哪些业务场景⽤到了？ <br />4.2 直接⽤kafka不单独研发可靠消息服务有什么问题么？ <br />4.3 ByteTCC实现TCC⽅案的原理 <br />4.4 你们公司有没有监控分布式事务的平台，可以⼿动重试失败的分布式事务？ 

5、分布式锁 <br />5.1 zk和redis分别怎么实现分布式锁？讲解redisson和curator的zk顺序节点的源码 <br />redisson⾮公平锁源码图：https://www.yuque.com/dulante-ikt7c/dy8hn4/eogxqt <br />zookeeper可重⼊锁源码图：https://www.yuque.com/dulante-ikt7c/dy8hn4/gqu12e 

6、开放类问题 <br />6.1、如果⼀个接⼝慢，造成这个接⼝慢的原因都有哪些？ <br />1、⽹络IO （说下数据库优化、redis优化） <br />2、磁盘IO （可以⽤异步优化） <br />3、锁竞争 （分段加锁、锁粒度，详⻅架构课锁优化策略） <br />4、jvm优化（如果前⾯没问jvm的话，这时候也可以说⼀下jvm专栏⾥的优化⽅案） 

6.2、如果让你来实现⼀个注册的功能，要考虑哪些点？ <br />1、项⽬初期没什么数据量，单库单表就可以 <br />2、数据量⼤了以后要考虑分库分表 <br />3、超时重试 <br />4、接⼝幂等性 <br />5、注册功能属于核⼼功能，不能降级 

6.3、怎么实现直播间送礼排⾏榜的功能？(使⽤redis，只展示前100名) <br />分两种情况考虑 <br />1、访问量很⼩的直播间 <br />（1）使⽤redis sorted set数据结构存储⽤户id，分数就是送礼⾦额 <br />（2）查询的的时候直接获取前100个 <br />2、访问量很⼤的直播间 （在这种情况下，使⽤上述设计⽅案，会有两个问题：⼀个问题是单台redis是 扛不住那么⾼的并发;另⼀个问题是送礼的⼈很多，展示的话只需要前100个，多个机器都存全量的key会浪费资源） <br />（1）同⼀个排⾏榜放在多个redis实例上，客户端读的时候做个轮询 <br />（2）⼀个redis实例存全量的排⾏https://sourl.cn/bFTskZ 榜，只负责写数据；其他redis存前100名的数据，负责读。写数据 <br />时，如果前100名发⽣变化，就把最新的数据同步到其他节点。 

6.4、⼀个很⼤的⽂件⾥存的都是些id，怎么统计出重复id的次数？(内存不能⼀次性加载所有数据) <br />1、把⼤⽂件拆分成内存可以放下的⼩⽂件⽐如10个⼩⽂件。 <br />2、⼤⽂件中的id通过⼀个hash函数计算出hash值，寻址算法找到⼩⽂件 <br />3、把⼩⽂件加载到内存中⽤HashMap就可以统计了 

6.5、⼀个⽂件⾥都是电话号码，重复的号码需要记录重复次数，你会怎么设计存储？ <br />1、电话号码可以分成三段，前⾯3位、中间4位、后⾯4位 <br />2、仿照Mysql索引树设计，叶⼦节点挂的是重复次数 <br />3、⾯试官说可以使⽤混合树（我不了解什么是混合树） 

6.6、 mysql⾥⼀个字段的值需要存⼏百万个id怎么设计？ <br />1、这些id先计算出⼀个base（所有id减去这个base就是个int类型的值） <br />2、搞⼀个bitmap，通过⼀个特殊的hash函数计算出（id-base）在bitmap中的位置（这个是唯⼀的） <br />3、核⼼思想就是使⽤bitmap存数据 

6.7、 怎么设计⼀个接⼝的降级⽅案？ <br />降级⽅案要分两种情况 <br />1、核⼼链路的接⼝不能随便降级，有的接⼝慢，就得在那等着。 <br />2、⾮核⼼链路参照⾯试突击⾥使⽤Hystrix降级


算法的话，我只看了⼀个算法专栏，知道⼀些数据结构，我碰到让写算法的⼀般都是⾯完了技术以后来 ⼀道简单的算法题，实在不会的话就直说没刷过算法题 很多⾯试官都是直接讲⼀下思路，让我来写代码。也有那种全程算法题的⾯试，如果对算法没啥信⼼， 可以问下⾯试官对算法的态度，是这些技术重要还是算法重要，如果⽐较看重算法不看重技术，就别浪费时间了。 




