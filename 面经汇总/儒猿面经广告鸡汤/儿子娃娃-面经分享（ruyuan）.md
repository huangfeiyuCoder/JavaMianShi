<a name="SAoii"></a>
### 背景：
 25，二本非科班，一年多经验，无大厂经验。学习一年多，面上蚂蚁。<br />面试了哪些公司
<a name="U3uj8"></a>
### 面试公司
云上会展（2 轮技术+1 轮复试，通过）<br />别样（3 轮技术，通过） <br />字节（2 轮技术，挂了） <br />蚂蚁（3 轮技术+1 轮 hr，通过）<br />爱奇艺（3 轮技术，挂了） <br />达达（1 轮技术后约 2 面没下文） <br />携程（2 轮技术通过，推掉了第 3 轮交叉面试）

<a name="XWP1m"></a>
### 面试准备：
面试突击，1，2，3季，第一季中的MQ和Redis问的最多。<br />JVM学一遍，面试前在复习一遍，主要JVM几块内存区域，垃圾触发实际，和回收流程（YoungGC，CMS和G1）。<br />还有一些异常情况 (比如 cms 的 concurrent mode failure)、如何优化 jvm(主要是合理分配堆内存，别让对象总是跑到老年代里头去导致频繁 full gc)<br />MySQL专栏：重点在BufferPool这块。

rocketMQ专栏：复习一下第一季的MQ连环屁，以及Kafka核心原理的源码去准备。

<a name="KJgZo"></a>
### 简历准备：

简历这块个人认为最重要 的就是体现你的特长还有讲重点，特长部分可以在技能描述这块详细写出来， 就拿 jvm 举个例子，很多人只会写熟悉 jvm 基本原理，然后就完了，这样其实 并不太好。<br />可以更细化一点，比如熟悉 jvm 原理、类加载机制、双亲委派机制、内存区域 划分、垃圾回收算法、垃圾收集器(ParNew, CMS, G1)。这样面试官要问问题的 时候也更加方便，直接对着这些具体的技术点问就好了。

简历中最主要是介绍项目的背景、负载情况、项目描述、技术挑战、解决方案。<br />对于每个部分的内容，想办法用最简单通俗的语言概括就好，不要长篇大 论的写，面试官压根没时间一个一个字的去看。 就比如技术挑战的解决方案这块，刚开始我写的跟流水账一样，简历指导的时 候被一顿痛批，后面按照修改建议，精简了流水账的内容，改成简洁通俗的内 容。 

具体的解决方案是留给面试过程中，和面试官沟通交流用的，以此为切入点， 慢慢地聊一些技术方案，还有解决技术挑战过程中所涉及到的原理和源码。 <br />关于如何准备项目，个人是结合之前工作所在的项目为基础进行准备的，本身就是微服务架构，用的也是 netflix 微服务技术栈，所以整体上来说还比较容易准备。 <br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1461694/1638776732086-6792c4f0-6497-43d8-8c76-b5e617470a8f.png#clientId=u225f0a22-d3cb-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=475&id=ucde9354b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=458&originWidth=748&originalType=binary&ratio=1&rotation=0&showTitle=false&size=203160&status=done&style=none&taskId=u0935d2a5-33cf-48ba-8723-b9cfeb893df&title=&width=776)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1461694/1638776977780-0d8b27ed-354e-4a1e-bb2d-943b948dfa1a.png#clientId=u225f0a22-d3cb-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=482&id=u7bfce115&margin=%5Bobject%20Object%5D&name=image.png&originHeight=451&originWidth=750&originalType=binary&ratio=1&rotation=0&showTitle=false&size=207180&status=done&style=none&taskId=u36d6016e-937d-47cb-ab90-cf4f29a28c0&title=&width=802)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1461694/1638776987379-f7cda9c1-a597-4409-9caf-52362faf7b9c.png#clientId=u225f0a22-d3cb-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=313&id=u22fda97f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=254&originWidth=731&originalType=binary&ratio=1&rotation=0&showTitle=false&size=83887&status=done&style=none&taskId=u5a651a68-9aa9-4882-93a7-0f73ce3e2c0&title=&width=899.5)<br />关于个人和项目相关部分的面试题，是必须必须必须非常认真准备的，因为这 里面的题目，不论是去面小公司还是大厂，都是必问的。 <br />因为一开始上来就是让你自我介绍一把，然后再介绍介绍之前自己做过的项目，负责的模块，担任的职责，项目有哪些技术挑战，怎么解决这些技术挑战 的，具体的流程是什么，自己在项目里面得到了哪些成长。 <br />关于面试题的回答，尽量通俗易懂，能够让人马上抓到重点，这里我简单介绍 一下

**第一部分：项目相关 **<br />1、简单介绍介绍一下你在上家公司做过的项目、项目的主要流程、你所负责的 <br />模块、你在项目担任的职责 <br />2、你在项目里面得到了学习到了什么，得到了哪些技术提升。<br />3、有没有 code review 习惯，平时 code review 时候都会去注意哪些点 <br />4、团队人员的组成，开发规模有多大，平时是如何迭代开发一个需求的（从产品经理到最终上线的流程）<br /> <br />**第二部分：jdk 源码相关 **<br />1、volatile 的作用和底层原理、项目中或哪些地方(JDK 或中间件)用到了volatile、volatile 的使用场景、double check 中 volatile 的作用是什么 <br />2、java 内存模型 <br />3、cas 的原理 <br />4、ThreadLocal 的底层原理，使用 ThreadLocal 需要注意什么问题，怎么去解 决<br />5、死锁发生的原因以及如何去避免死锁 <br />6、synchronized 实现原子性的原理 <br />7、ReentrantLock 和 synchronized 的区别 <br />8、ReentrantLock 是怎么实现原子性的 <br />9、aqs 的原理（如何阻塞线程，如何唤醒阻塞线程，不同类型节点 Exclusive、Shared 之间唤醒模式有什么区别） <br />10、aqs 在并发包的应用 <br />11、自旋锁(tryLock) <br />12、什么场景下用读写锁(ReentrantReadWriteLock) <br />13、ConcurrentHashMap 实现线程安全的原理（put 和 get），对比 jdk 1.8 和 jdk 1.7 的加锁粒度 <br />14、手写 ArrayBlockingQueue 的 take()和 put() <br />15、synchronized 的 wait(), notify(), notifyAll() vs. Reentranlock 对应 Condition 的 await(), signal(), signalAll() <br />16、公平锁和非公平锁 <br />17、jdk 都有哪些常见的线程池，什么情况下我们需要自定义线程池 <br />18、线程池的构造函数的几个参数都是什么意思 <br />19、线程池的执行流程（什么时候创建 core 线程、什么时候入队列、什么时候 扩容到 max 线程、core线程和 max 线程在线程池任务队列 take 任务时有什么区别） 

**第三部分：《从 0 开始带你成为 JVM 实战高手》**<br />1、jvm 的内存区域划分，不同内存区域都有什么作用 <br />2、双亲委派机制的作用 <br />3、介绍下 cms 垃圾收集器的执行流程 <br />4、为什么 full gc 会影响系统性能 

**第四部分：《从 0 开始带你成为消息中间件实战高手》 **<br />1、消息中间件的使用场景如何实现消息 0 丢失 <br />2、如何避免消息重复消费 <br />3、不同消息中间件之间的技术选型，都有什么特点和区别 <br />4、如何实现消息顺序消费 

**第五部分：《Kafka 消息中间件内核源码深度剖析试看版》 **<br />1、kafka 的网络通信架构的设计细节 【基于 nio 实现的 reactor 网络通信架构(Acceptor 线程 + Processor 线程 + Handler 线程池 + RequestChannel)】 <br />2、kafka 磁盘高性能读写实现细节 <br />（mmap + FileChannel + 写 os cache + 顺序写磁盘，定期 flush，consumer 基于零拷贝读） <br />3、kafka 是如何查找一条消息的（基于.index 稀疏索引文件的二分查找过程） <br />4、kafka 顺序写磁盘什么情况下会退化为随机读写磁盘 <br />5、kafka 在磁盘中都有什么文件？(.timeindex + .index + .log) <br />6、kafka 什么地方用到了 ZooKeeper 

**第六部分：《从零开始带你成为 MySQL 实战优化高手》 **<br />1、介绍下 acid 是什么，InnoDB 是如何实现 acid 的？mvcc <br />2、B+树、聚簇索引、普通索引、回表 <br />3、索引的优点和缺点 <br />4、联合索引使用过程中需要注意的问题(什么情况会索引失效) <br />5、Innodb 是如何实现行锁的 <br />6、分库分表

<a name="TIFwI"></a>
### 面试细节：
小厂面试：<br />先试小厂，拿到了小厂offer后再试试独角兽和大厂之类的<br />中大厂面试：<br />简历筛选不过，那就多筛选几次。<br />蚂蚁总共面了 4 轮，3 轮技术和1轮hr面，最终拿到 offer。蚂蚁的面试官非常专业，问题水平也很高，技术方面都是深入结合简历中的项目，建立在业务背景下去讨论的，不是脱离业务背景下的问. 	<br />会针对项目中的一些极端场景去发问，比如聊到了缓存与数据库双写一致性方 案时，如果大量阻塞的读请求达到了超时阈值，此时高并发地直连数据库查 询，怎么解决这种问题？？这种情况下怎么去优化数据库连接池？


中间件团队主要都是聊一些源码，jdk 并发包的源码，eureka（整体架构设 计、优点、缺点、二次开发的思路）、kafka 源码、hystrix 源码、ZooKeeper 源码，手写实现 ArrayBlockingQueue 的 put 和 take，还有一道算法题； <br />达达：当时远程面了一轮，后续 hr 问到还有什么公司在面试时，说了在面蚂蚁、爱奇艺时，就没有安排远程二轮面试了。 <br />携程：面了两轮技术还有智商和英语口语测试，当时因为有蚂蚁 offer，推掉了第三轮交叉面试，整体面试体验还是不错的。 

<a name="pUWj4"></a>
### 面试总结 
（1）面试技巧 <br />a、确保自己听懂面试官要问的问题，如果没听清楚，一定要多和面试官沟通，不要在没搞清楚问题情况下就开始说，会大大扣分的。 <br />b、回答问题的时候先讲重点，然后再是详细描述里面的细节，千万不要上来就是一堆细节，比如面试官让你讲 volatile 的作用时，你说了可以实现可见性和 有序性，如果面试官还想听更底层的实现，此时你就可以继续往深了说硬件层面 mesi 缓存一致性协议和内存屏障那一套。 <br />c、回答问题时，需要注意面试官的反应，确保讲的方向是正确的，如果不对需要及时和面试官沟通。 <br />d、保持耐心，如果面试官多次打断你，或者面试官讲的不太正确，不要去和面 试官抬杠。 <br />e、有机会先提前找小伙伴进行模拟面试，帮助热身进入状态，也可以提前查漏 补缺。

f、面试如果遇到不会的问题，千万不要不懂装懂，不懂的问题可以记录下来，或者请教面试官，很有可能同样地问题会被反复问到多次，比如当时我就不知道每次发送的 key 数据库都不存在的情况下缓存穿透问题的解决方案，面试官 就给我介绍了通过布隆过滤器实现的方案，后面面试别的公司时候就被重复问 <br />了 2 次。。。<br />g、如果面试没有通过，千万不要灰心，认真总结原因，是哪里没做好，查漏补缺。

  
<a name="pxlhw"></a>
### 学习方法 
先调整好心态，不要指望一遍学完就彻底掌握，这是不现实的想法。 <br />核心是重复学，因为第一次学习的情况下，很多东西都是很陌生的，一遍下 <br />来，其实只能够了解个大概讲了个什么东西，有点像是预习的感觉。 <br />在第一遍学完之后，再重复地学第二遍，此时就可以慢慢地明白个大概所以然 <br />了，当然第二遍学习肯定还是会有一些不懂的东西，没关系，抓大放小过掉就 <br />好了。 <br />第三遍学习的时候，就可以站在一个更高的角度去思考当前所学习课程了，然 后第三次学的时候，就会体会到老师为什么要这么安排课程的章节，会发现其 中大有玄机。 <br />学习的时候得做好完整的笔记，个人用的笔记软件是 Notion。 <br />代码跟着老师一行一行敲，源码分析课程跟着老师在源代码上面写注释，看视 <br />频不倍速，原速播放。 <br />老师画图的时候，自己也跟着在 ProcessOn 上面画图，加深印象。 <br />如果课程感觉自己没学懂，可以重新看视频，如果本身就学懂的，就没必要重 <br />新看视频浪费时间了，直接看之前自己画的图，根据图来复习对应源代码，你 <br />会发现刷刷刷的就回忆起来了。 <br />定期复习课程，知识旧了不复习一定是会忘记掉的。 

