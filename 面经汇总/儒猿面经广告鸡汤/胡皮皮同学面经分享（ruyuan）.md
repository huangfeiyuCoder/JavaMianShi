漫长准备的重点<br />面试突击一二三季、JVM专栏、mysql专栏以及架构课，结合自己的项目将自己亲身经历过的性能优化经历整合成面试官常问的你印象最深的事情，我基本上回答性能优化或者是线上JVM调优、kafka、redis这些基本是必问的，专栏的学习了后还需要自己去强化一下，比如redis的zset底层数据结构实现


开发流程，设计模式实战，在公司的项目里面使用了责任链、策略、模板去实战了一部分，这里举例责任链来说，当时项目有个下载文件的功能，下载文件的前置条件为接受邀请、报名、购买文件、免文件费等，根据项目的不同可以多种组合，原来都是通过if else的操作，后面改造成了简单工厂加责任链的模式）

看Spring Cloud Netfix eureka、feign、ribbon、hystrix、zuul五个组件的核心源码，同时自己画图，学习老师源码的思想（屁股想想、抓大放小、连蒙带猜），然后把v1.0的项目进行分布式升级，结合自己项目的框架升级去思考，并对参数进行调优。

分布式事务实践模块：分布式事物的解决方案以及使用场景，ByteTCC的源码，知道如何去设计一个分布式事务的框架，并结合自己项目整理了一下<br />JDK集合包、并发包源码剖析：这个就是基础的问题了，不能出差错，跟着老师学，同时自己开发的时候时不时的点进去看一下，加深印象。

选修maven git：这个有时候也会问到，基本上学习了不会有啥问题，老师讲的很细。

面试问题<br />其实很多问题都是相同的，我这里不单独每个公司弄出来写了，当然也会有遗漏的地方<br />1、谈谈你对hashMap的理解？<br />结合1.7、1.8版本的的不同实现去说，数组+链表+红黑树，构建的底层有哪些字段（key、hash、value、next）,什么时候扩容，扩容的通过二进制的0 1到扩容后的不同的桶位，以及头插法的缺点怎么改进的、1.8hash高低16为异或的操作（参见老师面试突击）

2、从源码角度谈谈你对AQS的理解？<br />集合源码说一下通过CAS改变state加锁流程，怎么加锁的，加锁失败放入队列，队列中的节点如何排队，节点的状态有哪些代表什么含义，释放锁如何去唤醒等待锁的线程

3、线程池参数，执行过程、拒绝策略、使用场景，会出需求要你解决等，比如说多个任务执行结束在继续走下面的，或者等多少个任务到了一起执行，需结合并发包的工具类去说

我一般在说完参数过程后，会说一下项目中哪里用到了，同时还会说一下默认线程池的缺点，尽量自己去创建，老师的面试突击里面这些都有说

zookeeper的ZAB协议？从选举和广播协议两方面去说，参见专栏面试突击第三季

5、zookeeper为啥要是半数写入才成功？ <br />数学原理：多于半数一定会有交集

6、kafka为什么快？零拷贝说说？零拷贝怎么实现的？有序性、消息丢失这些会出场景然后你来答，总得来说结合原理去答<br />客户端：会把消息打包成一个请求，如果说是发到同一个partition会把多个请求合并，同时为了防止频繁的GC自己设计了内存池

石杉架构笔记：[https://sourl.cn/zf3B98](https://sourl.cn/zf3B98)<br />服务端：顺序写、零拷贝、消息索引等<br />消息保证有序性、消息丢失（面试突击都有的哈）


abbitmq在使用的时候会出现什么问题，怎么解决，接口的幂等性怎么保证？面试突击有哈<br />8、redis在使用的时候会出现什么问题？怎么解决？有哪些数据结构、使用场景（结合自己的项目去说），底层怎么实现的（zset问的多），缓存穿透、击穿、血崩如何解决？<br />哪些数据结构以及实现方式：[https://www.cnblogs.com/ysocean/p/9102811.html](https://www.cnblogs.com/ysocean/p/9102811.html)

9、项目哪些地方用了分布式锁，为什么用，不用行不行？redis（zookeeper）分布式锁怎么实现的，用了哪些命令、集群下会有什么问题？<br />这个需要结合自己的项目说，如果没有自己创造一些场景，redis分布式锁和zookeeper的分布式锁，这里在架构班老师对redisson和curator的源码都进行了讲解。


0、事物隔离级别，都会有什么问题？mysql怎么解决这些问题的？为什么要小表驱动大表？几个log日志？分别用来干嘛的？一条SQL会扫几次表？这个回答起来会很长，整个mysql专栏上面的问题都包含了，看了专栏的基本上mysql面试没压力

11、有没有解决过线上问题？怎么解决的？说下你解决的思路？<br />结合jvm专栏去说，这个没有准确的答案，需要结合自己的项目场景去说

12、JMM？jvm由哪几部分组成的，结合类加载过程和程序执行去说。G1？ CMS？怎么优化？

13、springboot启动过程？为什么用mybatis只需要引入stater?

14、mybatis中mapper接口没有实现类怎么找到xml的？动态代理的对象哪里来的？<br />通过动态代理实现，mapperFactoryBean。

15、SpringIOC源码？从扫描类开始说起到bean初始化

16、说下eureka源码、细节，读写锁，feign底层默认的url请求工具类等？注册一个服务最慢多久可以感知？怎么解决？<br />电话里详细说，现场拿个笔画图

17、项目里面的分布式事物解决方案？<br />架构课里有完整的解决方案在结合自己的项目去说

18、你做个秒杀怎么做？<br />老面试题了，有很多不同的答法，老师架构课有真实互联网秒杀架构的，我是照着那个回答的<br />秒杀架构图：[https://www.yuque.com/dulante-ikt7c/dy8hn4/dcwpqp](https://www.yuque.com/dulante-ikt7c/dy8hn4/dcwpqp)

19、10G的文件2G内存的机器字符串排序？<br />用归并排序的思想去做


20、快排的实现？<br />21、两个线程AB交替打印，手写？腾讯会有屏幕分享

22、实现一个简单的redis有set get ，过期的要求自动删除？<br />我当时用hashMap 和 treeMap以及定时执行的单线程池实现

23、一个字符串加减乘除括号啥的自己实现计算出来，说下思路

24、性能优化参数指标，优化前，优化后？

25、公司有个APP，要你实现扫码登录怎么设计

26、synchronized volatile实现原理？锁升级？<br />面试突击三，分析到计算机硬件级别<br />锁升级参见美团技术团队文章：[https://tech.meituan.com/2018/11/15/java-lock.html](https://tech.meituan.com/2018/11/15/java-lock.html)

27、事物失效的场景<br />this调用、private修饰的、try catch了等等。

28、分库分表有了解过吗？你们是如何分库分表表？如果多个分片键如何处理？<br />29、现在有这么一个场景，微服务机器部署了20台，但是只有其中一台机器cpu负载很高，你如何去排查？

30、让你设计一个消息中间件你如何去设计？

31、你觉得自己在工作中遇到有挑战的问题有哪些？

32、有没有什么问题要问我的吗？

简历准备<br />根据自己所学的技术点，尽量写的详细，引导面试官问你，比如：

1、精通 SpringCloud Netfix 组件，阅读过 Eureka、Feign、Ribbon 核心源码

2、精通 MySQL Innodb 存储引擎日志、事务、锁、索引底层工作原理、能根据 explain 优化 sql

保证自己写的技术点要经的起问，比如你写个精通redis分布式锁，那就要知道你在项目什么地方用了，为什么用，不用可不可以，锁是自己实现的么，不是那用的框架是怎么实现的，用了redis哪些命令，不熟悉的东西尽量不要写或者写了解。

![image.png](https://cdn.nlark.com/yuque/0/2021/png/1461694/1629102475891-61a034ff-c54b-44bc-94fb-4c5554fb52e9.png#clientId=u53a0eb05-e7a4-4&from=paste&height=913&id=uadcfc3d5&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1826&originWidth=1584&originalType=binary&ratio=1&size=880719&status=done&style=none&taskId=ue3c70e51-d593-4f77-9ac8-327bdb7c271&width=792)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1461694/1629102484895-b30ffa4f-8e35-4a31-b8ad-652e3f719211.png#clientId=u53a0eb05-e7a4-4&from=paste&height=965&id=uebf3285e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1930&originWidth=1740&originalType=binary&ratio=1&size=785435&status=done&style=none&taskId=u2f9f2cde-c0df-4195-b2ca-a6204495ad1&width=870)

6、面试技巧<br />在面试官看简历的时候，首先面试官会说，自我介绍一下，调节气氛，在过程中面试官忽然安静下来的时候（其实在想问哪些东西），去说自己熟悉哪些东西，看过啥，让他问你，一般来说我的自我介绍不会太长，只会说我主要工作职责啥的；

在回答问题的时候，我会先大概说下比较浅的，比如说NIO的理解，就先说怎么解决C10K的问题，底层是用select epoll实现的，这个select怎么实现的我会询问面试官说，这个需不需要我深入说，需要再继续说？还有在问线程池的参数啊啥的时候，回答结束时，说下自己项目在哪里用到了。

这次的面试中好像大部分引导都失败了，我说这个我研究比较深，需要我深入说么，面试官大部分说那就不用说了，我知道你知道了（怪我咯，有点小尴尬）

7、总结面试突击在面试前扫盲是很有效果的，但是深度需要平时积累，平时还是要多学习学习。<br />有时候发现很多博客写的东西都是错误的，所以学习的资料以及路径也很重要。

平时多去讨论、思考，对自己的项目出现的问题或者同事出现的问题，都可以自己思考思考，如果是架构组解决的，可以去问问咋解决的，虚心的去学习技术。

试被问的不会的，直接说不会，或者还没去研究，然后尝试要面试官解答，不要自己去瞎猜，印象会不好。<br />刚开始面试的时候，最好还是先面小公司，积累一下经验，再去面大一点的。



